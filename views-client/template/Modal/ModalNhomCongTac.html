
<div class="modal-header bg-color" style="background-color:#ccc">
    <div class="modal-title">
        <a title="Đóng" style="opacity:1 !important" ng-click="cancelModal()" class="close" aria-hidden="true"> </a>

        <h4> <label class=" uppercase font-white"><i class="fa fa-list"></i> Cập nhật thông tin nhóm công tác </label></h4>

    </div>
</div>
<div class="modal-body form">
    <div class="form-body form-horizontal margin-top-10">
        <div class="row margin-bottom-5">
            <div class="{{itemError.ModelState.TenNhom[1]}}">
                <label class="control-label col-md-2">Tên nhóm<span style="color:red">*</span>: </label>
                <div class="col-md-10">
                    <input type="text" class="form-control input-sm" ng-model="item.TenNhom">
                </div>
            </div>
        </div>
        <div class="row margin-bottom-5">
            <div class="{{itemError.ModelState.NhiemVu[1]}}">
                <label class="control-label col-md-2">Nhiệm vụ<span style="color:red">*</span>: </label>
                <div class="col-md-10">
                    <input type="text" class="form-control input-sm" ng-model="item.NhiemVu">
                </div>
            </div>
        </div>
        <div class="row margin-bottom-5">
            <div class="tabbable-custom portlet box">
                <ul class="nav nav-tabs ">
                    <li class="active">
                        <a data-target="#tab_1" data-toggle="tab" aria-expanded="true" class="bold">
                            Thành viên
                        </a>
                    </li>
                    <li>
                        <a data-target="#tab_2" data-toggle="tab" aria-expanded="true" class="bold">
                            Phân công tiêu chuẩn, tiêu chí
                        </a>
                    </li>

                </ul>
                <div class="tab-content">
                    <div class="tab-pane active " id="tab_1">

                        <div class="row">
                            <div class="portlet light " style="margin-bottom:0">

                                <div class="form-body form-horizontal col-md-12">
                                    <div class="form-group">
                                        <div class="col-md-12">
                                            <div class="table-scrollable ">
                                                <!-- BEGIN FORM-->
                                                <table class="table table-striped table-bordered table-hover"
                                                       id="fixTable">
                                                    <thead>
                                                        <tr>
                                                            <th width="1px" align="center"> STT </th>
                                                            <th> <div style="text-align:center">Họ và tên</div></th>
                                                            <th> <div style="text-align:center">Chức vụ trong nhóm</div></th>
                                                            <th width="1px"><div style="text-align:center">#</div>  </th>
                                                            <th width="1px"><div style="text-align:center">#</div>  </th>

                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr class="odd gradeX" ng-repeat="dm in ListThanhVien">
                                                            <td align="center" width="1px"> {{$index + 1}} </td>
                                                            <td>
                                                                <select select2 ng-model="dm.IdHoiDong"
                                                                        convert-to-number 
                                                                        ng-disabled="dm.isSaved">
                                                                    <option ng-repeat="tv in HoiDong" value="{{tv.hd.Id}}">{{tv.us.HoTen}}</option>
                                                                </select>
                                                            </td>
                                                            <td>
                                                                <select select2 ng-model="dm.IdChucVu" 
                                                                        convert-to-number 
                                                                        class="form-control input-sm select2"
                                                                        ng-disabled="dm.isSaved">
                                                                    <option value="{{cv.Code}}" ng-repeat="cv in ListCV">{{cv.Name}}</option>
                                                                </select>
                                                            </td>

                                                            <td>
                                                                <a class="action-btn"
                                                                   ng-if="dm.isSaved"
                                                                   ng-click="EditThanhVien(dm)" title="Sửa" tooltip>
                                                                    <i class="fa fa-edit"></i>
                                                                </a>
                                                                <a class="action-btn"
                                                                   ng-if="!dm.isSaved"
                                                                   ng-click="SaveThanhVien(dm)" title="Thêm" tooltip>
                                                                    <i class="fa fa-save"></i>
                                                                </a>
                                                            </td>
                                                            <td>
                                                                <a class="action-btn"
                                                                   ng-click="DelThanhVien(dm)" title="Xóa">
                                                                    <i class="fa fa-trash font-red"></i>
                                                                </a>
                                                            </td>

                                                        </tr>
                                                        <tr class="odd gradeX">
                                                            <td align="center" width="1px"></td>
                                                            <td>
                                                                <select select2 ng-model="TvBanDau.IdHoiDong" convert-to-number>
                                                                    <option ng-repeat="tv in HoiDong" value="{{tv.hd.Id}}">{{tv.us.HoTen}}</option>
                                                                </select>
                                                            </td>
                                                            <td>
                                                                <select select2 ng-model="TvBanDau.IdChucVu" class="form-control input-sm select2" convert-to-number>
                                                                    <option value="1">Trưởng nhóm</option>
                                                                    <option value="2">Thành viên</option>
                                                                </select>
                                                            </td>

                                                            <td>
                                                                <a class="action-btn"
                                                                   ng-click="SaveThanhVien(TvBanDau)" title="Lưu" tooltip>
                                                                    <i class="fa fa-save"></i>
                                                                </a>
                                                            </td>
                                                            <td>
                                                                <a class="action-btn"
                                                                   ng-click="Del(TvBanDau)" title="Xóa">
                                                                    <i class="fa fa-trash font-red"></i>
                                                                </a>
                                                            </td>

                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>



                            </div>
                        </div>

                    </div>
                    <div class="tab-pane" id="tab_2">
                        <div class="row">
                            <div class="portlet light " style="margin-bottom:0">
                                <div class="form-body form-horizontal col-md-12">
                                    <div class="row margin-bottom-5">
                                        <label class="col-md-2 control-label">Chọn quy định:</label>
                                        <div class="col-md-9">
                                            <select ng-model="$root.IdQuyDinh" class="form-control input-sm select2"
                                                    ng-change="GetAllMenuDrop()" convert-to-number
                                                    ng-disabled="KeHoachTDG">
                                                <option ng-repeat="nl in QuyDinh" value={{nl.Id}}>{{nl.Ten}}</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="row margin-bottom-5">
                                        <label class="control-label col-md-2">Các tiêu chuẩn, tiêu chí: </label>
                                        <div class="col-md-9">
                                            <div class="table-scrollable">
                                                <!-- BEGIN FORM-->
                                                <table class="table table-striped table-bordered table-hover">
                                                    <thead>
                                                        <tr>

                                                            <th align="center" width="1px"> # </th>
                                                            <th> Tên nội dung </th>
                                                            <th align="center" width="1px"> <input type="checkbox" ng-model="MenuDrop.Check" ng-change="CheckAll(MenuDrop)" /> </th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr class="odd gradeX" ng-repeat="Menu in MenuDrop">

                                                            <td><i class="icon-arrow-right"></i></td>
                                                            <td> <div ng-class="Menu.LoaiDuLieu == 2 ? '':'bold'">{{Menu.LoaiDuLieu == 2 ? " |--" + Menu.NoiDung : Menu.NoiDung }}</div> </td>
                                                            <td><input type="checkbox" ng-model="Menu.IsCheck" ng-change="OnCheck(Menu)" /></td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                                <!-- END FORM-->


                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                </div>
            </div>
        </div>


        <div class="form-group " style="position: sticky;bottom: 10px;z-index:500;background-color:white">
            <div class="col-md-12 clearfix text-right">
                <a class="btn btn-sm btn-success btn-outline sbold action-btn" ng-click="Save()"><i class="fa fa-save"></i> Lưu </a>
                <a class="btn btn-sm btn-success btn-outline sbold action-btn" ng-click="Save(1)"><i class="fa fa-save"></i> Lưu và thêm </a>
                <a class="btn btn-sm grey-cascade" ng-click="cancelModal()"><i class="fa fa-times-circle"></i> Đóng </a>
            </div>

        </div>
    </div>
</div>



<script>
    jQuery(document).ready(function () {
        ComponentsSelect2.init();
    });
</script>
